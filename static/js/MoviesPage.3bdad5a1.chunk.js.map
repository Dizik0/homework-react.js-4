{"version":3,"sources":["Components/MoviesPage/MoviesPage.module.scss","Components/GetAPI/MoviesPageAPI.js","Components/MoviesPage/MoviesPage.js"],"names":["module","exports","MoviesPageAPI","value","a","BASE_URL","baseUrlApiKey","API_KEY","Axios","get","MoviesPage","state","movies","getMovies","trim","response","setState","data","results","localStorage","setItem","JSON","stringify","screachValueInput","e","preventDefault","getValueInput","currentTarget","window","getItem","parse","array","this","movie","length","map","className","style","itemBoxFilter","to","pathname","id","from","props","location","title","notMovie","boxFilter","onSubmit","fromFilter","type","onChange","inputBoxFilter","placeholder","bntBoxFilter","listFilter","Component"],"mappings":"sPACAA,EAAOC,QAAU,CAAC,cAAgB,kCAAkC,UAAY,8BAA8B,WAAa,+BAA+B,eAAiB,mCAAmC,aAAe,iCAAiC,WAAa,+BAA+B,SAAW,+B,mLCQtSC,EALI,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACZC,EAAsBC,EAAtBD,SAAUE,EAAYD,EAAZC,QADE,kBAEbC,IAAMC,IAAN,UAAaJ,EAAb,gCAA6CE,EAA7C,kBAA8DJ,KAFjD,2CAAH,sD,wBCEEO,E,4MACnBC,MAAQ,CACNR,MAAO,GACPS,OAAQ,I,EAGVC,U,sBAAY,4BAAAT,EAAA,0DACN,EAAKO,MAAMR,MAAMW,OADX,gCAEeZ,EAAc,EAAKS,MAAMR,OAFxC,OAEFY,EAFE,OAGR,EAAKC,SAAS,CAAEJ,OAAQG,EAASE,KAAKC,UAEtCC,aAAaC,QAAQ,MAAOC,KAAKC,UAAU,EAAKX,MAAMC,SACtDO,aAAaC,QAAQ,QAASC,KAAKC,UAAU,EAAKX,MAAMR,QANhD,2C,EAUZoB,kBAAoB,SAACC,GACnBA,EAAEC,iBAEF,EAAKZ,a,EAePa,cAAgB,SAACF,GACf,EAAKR,SAAS,CAAEb,MAAOqB,EAAEG,cAAcxB,S,uDAbzC,WACE,GACEyB,OAAOT,aAAaU,QAAQ,QAC5BR,KAAKS,MAAMF,OAAOT,aAAaU,QAAQ,UACvC,CACA,IAAME,EAAQV,KAAKS,MAAMF,OAAOT,aAAaU,QAAQ,QAC/C1B,EAAQkB,KAAKS,MAAMF,OAAOT,aAAaU,QAAQ,UAErDG,KAAKhB,SAAS,CAAEJ,OAAQmB,EAAO5B,MAAOA,O,oBAQ1C,WAAU,IACJ8B,EADG,OAEP,EAA0BD,KAAKrB,MAAvBC,EAAR,EAAQA,OAAQT,EAAhB,EAAgBA,MAqBhB,OAlBE8B,EADErB,GAA4B,IAAlBA,EAAOsB,OACXtB,EAAOuB,KAAI,SAACF,GAAD,OACjB,oBAAmBG,UAAWC,IAAMC,cAApC,SACE,cAAC,IAAD,CACEC,GAAI,CACFC,SAAS,UAAD,OAAYP,EAAMQ,IAC1B9B,MAAO,CACL+B,KAAM,EAAKC,MAAMC,WAJvB,SAQGX,EAAMY,SATFZ,EAAMQ,OAcT,mBAAGL,UAAWC,IAAMS,SAApB,6BAIR,sBAAKV,UAAWC,IAAMU,UAAtB,UACE,uBAAMC,SAAUhB,KAAKT,kBAAmBa,UAAWC,IAAMY,WAAzD,UACE,uBACE9C,MAAOA,EACP+C,KAAK,OACLC,SAAUnB,KAAKN,cACfU,UAAWC,IAAMe,eACjBC,YAAY,qIAEd,wBAAQH,KAAK,SAASd,UAAWC,IAAMiB,aAAvC,6BAIF,oBAAIlB,UAAWC,IAAMkB,WAArB,SAAkCtB,W,GA3EFuB","file":"static/js/MoviesPage.3bdad5a1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"itemBoxFilter\":\"MoviesPage_itemBoxFilter__17VZZ\",\"boxFilter\":\"MoviesPage_boxFilter__3nkG5\",\"fromFilter\":\"MoviesPage_fromFilter__3qykW\",\"inputBoxFilter\":\"MoviesPage_inputBoxFilter__2BfDP\",\"bntBoxFilter\":\"MoviesPage_bntBoxFilter__3Xr0X\",\"listFilter\":\"MoviesPage_listFilter__3iI0t\",\"notMovie\":\"MoviesPage_notMovie__1HSoc\"};","import Axios from 'axios'\r\n\r\nimport baseUrlApiKey from '../../../src/baseUrlApiKey.json'\r\n\r\nconst MoviesPageAPI = async (value) => {\r\n  const { BASE_URL, API_KEY } = baseUrlApiKey\r\n  return Axios.get(`${BASE_URL}search/movie?api_key=${API_KEY}&query=${value}`)\r\n}\r\n\r\nexport default MoviesPageAPI\r\n","import { Component } from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nimport MoviesPageAPI from \"../GetAPI/MoviesPageAPI\";\r\nimport style from \"./MoviesPage.module.scss\";\r\n\r\nexport default class MoviesPage extends Component {\r\n  state = {\r\n    value: \"\",\r\n    movies: \"\",\r\n  };\r\n\r\n  getMovies = async () => {\r\n    if (this.state.value.trim()) {\r\n      const response = await MoviesPageAPI(this.state.value);\r\n      this.setState({ movies: response.data.results });\r\n\r\n      localStorage.setItem(\"arr\", JSON.stringify(this.state.movies));\r\n      localStorage.setItem(\"value\", JSON.stringify(this.state.value));\r\n    }\r\n  };\r\n\r\n  screachValueInput = (e) => {\r\n    e.preventDefault();\r\n\r\n    this.getMovies();\r\n  };\r\n\r\n  componentDidMount() {\r\n    if (\r\n      window.localStorage.getItem(\"arr\") ||\r\n      JSON.parse(window.localStorage.getItem(\"value\"))\r\n    ) {\r\n      const array = JSON.parse(window.localStorage.getItem(\"arr\"));\r\n      const value = JSON.parse(window.localStorage.getItem(\"value\"));\r\n\r\n      this.setState({ movies: array, value: value });\r\n    }\r\n  }\r\n\r\n  getValueInput = (e) => {\r\n    this.setState({ value: e.currentTarget.value });\r\n  };\r\n\r\n  render() {\r\n    let movie;\r\n    const { movies, value } = this.state;\r\n\r\n    if (movies && movies.length !== 0) {\r\n      movie = movies.map((movie) => (\r\n        <li key={movie.id} className={style.itemBoxFilter}>\r\n          <Link\r\n            to={{\r\n              pathname: `movies/${movie.id}`,\r\n              state: {\r\n                from: this.props.location,\r\n              },\r\n            }}\r\n          >\r\n            {movie.title}\r\n          </Link>\r\n        </li>\r\n      ));\r\n    } else {\r\n      movie = <p className={style.notMovie}>Movie not found</p>;\r\n    }\r\n\r\n    return (\r\n      <div className={style.boxFilter}>\r\n        <form onSubmit={this.screachValueInput} className={style.fromFilter}>\r\n          <input\r\n            value={value}\r\n            type=\"text\"\r\n            onChange={this.getValueInput}\r\n            className={style.inputBoxFilter}\r\n            placeholder=\"–í–≤–µ–¥–∏—Ç–µ –Ω–∞–∑–≤–∞–Ω–∏–µ —Ñ–∏–ª—å–º–∞\"\r\n          ></input>\r\n          <button type=\"submit\" className={style.bntBoxFilter}>\r\n            üîç\r\n          </button>\r\n        </form>\r\n        <ul className={style.listFilter}>{movie}</ul>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}